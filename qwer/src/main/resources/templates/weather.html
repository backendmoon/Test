<!doctype html>
<html lang="ko">

<head>
<meta charset="UTF-8">
<title>jQuery 연습하고 가기!</title>
<!-- jQuery를 import 합니다 -->
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script>
	function q1() {
		//버튼을 누르면, 기존에 있었던 내용을 삭제시킨다.
		$('#names-q1').empty()
		$
				.ajax({
					type : "GET",
					url : "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99",
					data : {},
					success : function(response) {
						//API에서 데이터를 빼서 정리!
						const DATA = response['RealtimeCityAir']['row']
						for (let i = 0; i < DATA.length; i++) {
							let gu = DATA[i]['MSRSTE_NM'], dust = DATA[i]['IDEX_MVL'];
							let temp_html = `<li>${gu} : ${dust}</li>`;
							$('#names-q1').append(temp_html)
						}
					}
				})
	}
</script>

</head>

<body>
	<h1>jQuery+Ajax의 조합을 연습하자!</h1>
	<hr />

	<div>
		<h2>1. 서울시 OpenAPI(실시간 미세먼지 상태)를 이용하기</h2>
		<p>모든 구의 미세먼지를 표기해주세요</p>
		<p>업데이트 버튼을 누를 때마다 지웠다 새로 씌여져야 합니다.</p>
		<button onclick="q1()">업데이트</button>
		<ul id="names-q1">

		</ul>
	</div>
</body>

</html>